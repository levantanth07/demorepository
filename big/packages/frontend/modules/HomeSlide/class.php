<?phpclass HomeSlide extends Module{	static $items=array();	static $stype='nivo-slider';	function __construct($row)	{		Module::Module($row);		require_once 'db.php';		if(DEVELOPER){			$items=$this->make_cache();		}else{			$dir = 'cache/db/homeslide.cache.php';			if(file_exists($dir)){				require_once $dir;			}else{				$items=$this->make_cache();			}		}		HomeSlide::$items=$items;		if(Module::get_setting('stype')=='jslider') HomeSlide::$stype='jslider';		require_once 'forms/list.php';		$this->add_form(new HomeSlideForm());	}	function make_cache(){		$table = 'media';		$cond = $table.'.status<>"HIDE" and '.$table.'.type="PHOTO" and '.$table.'.image_url!="" AND '.IDStructure::child_cond(DB::structure_id('category',5)).'';		$items=HomeSlideDB::get_home_slide($cond,$table);		return $items;	}}?>